<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>使用Snap.svg制作svg动画  </title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	   <meta name="keywords" content="使用Snap.svg制作svg动画  ">
	   <meta name="description" content="使用Snap.svg制作svg动画  ">
    <link rel="shortcut icon" href="favicon_16.ico">
    <link rel="bookmark" href="favicon_16.ico">
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/grid.css">
    <!-- site css -->
    <link rel="stylesheet" href="./assets/css/fonts/iconfont.css">
    <link rel="stylesheet" href="./assets/css/layout.css">
    <link rel="stylesheet" href="./assets/css/highlight.css">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="./assets/js/html5shiv.min.js"></script>
      <script src="./assets/js/respond.min.js"></script>
    <![endif]-->

  </head>
  <body style="background-color: #f1f2f6;">
    <div class="docs-header">
      <!--nav-->
      <nav class="navbar navbar-default navbar-custom" role="navigation">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <a href="blog.html"><img class="logo" src="./assets/img/logo.png"></a>
              <ul class="share clearfix">
                <li githubpress-website-weibo=""><a href="http://www.weibo.com/uedtianji" target="_blank"><span class="weibo iconfont">&#xe66e;</span></a></li>
                <li githubpress-website-github=""><a href="https://github.com/uedtianji" target="_blank"><span class="github iconfont">&#xe611;</span></a></li>
                
                <li githubpress-website-tieba=""><a href="http://tieba.baidu.com/f?kw=ued%E5%A4%A9%E6%9C%BA&ie=utf-8" target="_blank"><span class="tieba iconfont">&#xe60e;</span></a></li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <div class="container">
      <div class="row">
<section class="bbox-wrp">
<div class="info">
    <div class="timeline">
        <div class="category">
                <a githubpress-reposurl="" href="https://github.com/zhangzicong6/svg-animation"><i class="iconfont">&#xe611;</i></a>
        </div>
        <div class="time" githubpress-date="">12-29</div>
        <div class="author" githubpress-author="">zhangzicong6</div>
    </div>
</div>
<div class="blog-box">
<div class="blog-view">
    <div class="title clearfix underline" githubpress-title="">使用Snap.svg制作svg动画  </div>
    <div class="content markdown typo" githubpress-content=""><h2 id="-snap-svg-svg-">使用Snap.svg制作svg动画</h2>
<p><img src="https://raw.githubusercontent.com/zhangzicong6/svg-animation/master/img/ani.gif" alt="svg图片"><br><a href="http://zhangzicong6.github.io/svg-animation/" target="_blank">测试地址</a><br>上图的效果是使用svg制作，在html5风靡之后设计师对动画细节的要求也越来越高，像上图那种圆点炸开的动画如果使用html+css去做的话需要把每个元素切成很小的png然后分别做动画。这样不仅性能上会捉襟见肘，页面大小上也无法接受。使用svg后不仅可以很好的解决大小与性能问题，还可以做出很多html无法实现的效果。那么问题来了，html有jquery、zepto那样的js库可以方便的操作节点，svg有没有呢？有！而且是jquery风格的库，那就是Snap.svg.js。有了他就可以轻松的操作svg做动画了。  </p>
<h2 id="-">准备效果图</h2>
<p>在编写html页面的时候一般是把效果图切成需要的部分，而svg更加方便了根本不需要切图，只需要将svg文件中的svg部分粘贴到html就可以把效果图直接展示在页面上。一般效果图是由设计师用Adobe Illustrator(AI)制作，用ai另存为svg格式文件就可以用编辑器直接打开了。  </p>
<pre class="hljs"><code class="lang-svg"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="hljs-comment">&lt;!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --&gt;</span>
<span class="hljs-doctype">&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">svg</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"1.1"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"Layer_1"</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">"http://www.w3.org/2000/svg"</span> <span class="hljs-attribute">xmlns:xlink</span>=<span class="hljs-value">"http://www.w3.org/1999/xlink"</span> <span class="hljs-attribute">x</span>=<span class="hljs-value">"0px"</span> <span class="hljs-attribute">y</span>=<span class="hljs-value">"0px"</span>
     <span class="hljs-attribute">width</span>=<span class="hljs-value">"640px"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"1008px"</span> <span class="hljs-attribute">viewBox</span>=<span class="hljs-value">"0 0 640 1008"</span> <span class="hljs-attribute">enable-background</span>=<span class="hljs-value">"new 0 0 640 1008"</span> <span class="hljs-attribute">xml:space</span>=<span class="hljs-value">"preserve"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">text</span> <span class="hljs-attribute">transform</span>=<span class="hljs-value">"matrix(1 0 0 1 128.8887 595.5957)"</span> <span class="hljs-attribute">fill</span>=<span class="hljs-value">"#E60012"</span> <span class="hljs-attribute">font-family</span>=<span class="hljs-value">"'FZLTXHK--GBK1-0'"</span> <span class="hljs-attribute">font-size</span>=<span class="hljs-value">"48.0418"</span>&gt;</span>创意和技术的结合<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">g</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">circle</span> <span class="hljs-attribute">fill</span>=<span class="hljs-value">"#E60012"</span> <span class="hljs-attribute">cx</span>=<span class="hljs-value">"343.054"</span> <span class="hljs-attribute">cy</span>=<span class="hljs-value">"417.491"</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">"75.529"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">circle</span> <span class="hljs-attribute">fill</span>=<span class="hljs-value">"#E60012"</span> <span class="hljs-attribute">cx</span>=<span class="hljs-value">"299.059"</span> <span class="hljs-attribute">cy</span>=<span class="hljs-value">"417.491"</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">"75.529"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">g</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">defs</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">circle</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"SVGID_1_"</span> <span class="hljs-attribute">cx</span>=<span class="hljs-value">"299.059"</span> <span class="hljs-attribute">cy</span>=<span class="hljs-value">"417.491"</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">"75.529"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">defs</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">clipPath</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"SVGID_2_"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">use</span> <span class="hljs-attribute">xlink:href</span>=<span class="hljs-value">"#SVGID_1_"</span>  <span class="hljs-attribute">overflow</span>=<span class="hljs-value">"visible"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">clipPath</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">circle</span> <span class="hljs-attribute">clip-path</span>=<span class="hljs-value">"url(#SVGID_2_)"</span> <span class="hljs-attribute">fill</span>=<span class="hljs-value">"#FCFAFA"</span> <span class="hljs-attribute">cx</span>=<span class="hljs-value">"342.556"</span> <span class="hljs-attribute">cy</span>=<span class="hljs-value">"417.491"</span> <span class="hljs-attribute">r</span>=<span class="hljs-value">"75.529"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">g</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">g</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">svg</span>&gt;</span>
</code></pre>
<p>运行代码<br><img src="https://raw.githubusercontent.com/zhangzicong6/svg-animation/master/img/svg.png" alt=""><br>可以看到svg很html一样是不同的元素嵌套组成，但是不像html那样规整可以很容易的分清在页面与代码中对应的部分。怎样快速的将页面中元素对应到代码之中呢。方法与html一样，那就是使用chrome打开svg文件在审查元素（或者firebug）中找到元素对应的代码部分。<br><img src="https://raw.githubusercontent.com/zhangzicong6/svg-animation/master/img/shot.jpg" alt="svg图片"><br>例如我们在浏览器定位到右边的圆，并在找到了代码中的位置，为了方便操作这个圆，我们为圆加上id<code>circle1</code>，并为svg加上id<code>svg</code>。另外有个细节需要注意，<code>viewBox=&quot;0 0 640 1008&quot;</code>是指的是svg原本大小，svg属性中的width,height设置成100%会令svg水平充满父元素，使其实现自适应。    </p>
<pre class="hljs"><code class="lang-svg">&lt;svg <span class="hljs-variable">id=</span><span class="hljs-string">"svg"</span> <span class="hljs-variable">version=</span><span class="hljs-string">"1.1"</span> <span class="hljs-variable">xmlns=</span><span class="hljs-string">"http://www.w3.org/2000/svg"</span> xmlns:<span class="hljs-variable">xlink=</span><span class="hljs-string">"http://www.w3.org/1999/xlink"</span> <span class="hljs-variable">x=</span><span class="hljs-string">"0px"</span> <span class="hljs-variable">y=</span><span class="hljs-string">"0px"</span> <span class="hljs-variable">width=</span><span class="hljs-string">"100%"</span> <span class="hljs-variable">height=</span><span class="hljs-string">"100%"</span> <span class="hljs-variable">viewBox=</span><span class="hljs-string">"0 0 640 1008"</span> <span class="hljs-variable">enable-background=</span><span class="hljs-string">"new 0 0 640 1008"</span> xml:<span class="hljs-variable">space=</span><span class="hljs-string">"preserve"</span>&gt;
......
&lt;g&gt;
    &lt;circle <span class="hljs-variable">id=</span><span class="hljs-string">"circle1"</span> <span class="hljs-variable">fill=</span><span class="hljs-string">"#E60012"</span> <span class="hljs-variable">cx=</span><span class="hljs-string">"343.054"</span> <span class="hljs-variable">cy=</span><span class="hljs-string">"417.491"</span> <span class="hljs-variable">r=</span><span class="hljs-string">"75.529"</span>/&gt;
......
</code></pre>
<p>然后使用snap向右移动这个圆circle1  </p>
<pre class="hljs"><code class="lang-javascript"><span class="hljs-keyword">var</span> snap=Snap(<span class="hljs-string">"<span class="hljs-subst">#svg</span>"</span>);
<span class="hljs-keyword">var</span> circle1 = snap.select(<span class="hljs-string">"<span class="hljs-subst">#circle1</span>"</span>);
circle1.animate({
    <span class="hljs-attribute">cx</span>: <span class="hljs-number">343.054</span>,
    <span class="hljs-attribute">xy</span>: <span class="hljs-number">417.491</span>
},<span class="hljs-number">1000</span>);
</code></pre>
<p>运行代码：<br><img src="https://raw.githubusercontent.com/zhangzicong6/svg-animation/master/img/2.gif" alt="svg图片"><br>可以看到snap语法基本跟jquery一致，使用animate就可以做动画，只不过修改的属性与css属性有些不同，可以参考svg的属性教程。</p>
<p>项目地址<a href="https://github.com/zhangzicong6/svg-animation">github</a><br>如有问题或者建议请微博<a href="http://weibo.com/uedtianji" target="_blank">@UED天机</a>。我会及时回复<br>更多教程请关注<a href="http://ued.sexy" target="_blank">ued.sexy</a></p>
</div>
</div>
  <div id="comments" class="comments-view">
      <div class="publish-comment">
          <!-- 多说评论框 start -->
          <div class="ds-thread" data-short-name="uedsexy" data-thread-key="zhangzicong6/svg-animation" data-title="使用Snap.svg制作svg动画  " data-url="http://ued.sexy/1419847425335.html"></div>
          <!-- 多说评论框 end -->
      </div>
  </div>
</div>
</section>
      </div>
    </div>
    <div class="site-footer">
      <div class="container">
        <div class="copyright clearfix">
          <p>Copyright © 2014 <a href="http://ued.sexy" target="_blank">ued.sexy</a></p>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      var duoshuoQuery = {short_name:document.querySelector(".ds-thread").getAttribute("data-short-name")};
        (function() {
          var ds = document.createElement('script');
          ds.type = 'text/javascript';ds.async = true;
          ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
          ds.charset = 'UTF-8';
          (document.getElementsByTagName('head')[0] 
           || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    </script>
  </body>
</html>
